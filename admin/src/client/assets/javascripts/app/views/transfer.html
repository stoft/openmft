<section>
  <h2 data-bind="html: displayName"></h2>

  <!-- Button trigger modal -->
<!--   <button class="btn btn-primary" data-toggle="modal" data-target="#myModal"> -->
  <button class="btn btn-primary" data-bind="click: newDialog">
    Create Transfer
  </button>

  <!-- Modal -->
  <div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
    <div class="modal-dialog">
      <div class="modal-content">
        <div class="modal-header">
          <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
          <h4 class="modal-title" id="myModalLabel" data-bind="text: editTitle"></h4>
        </div>
        <div class="modal-body">
          <form role="form">
            <div class="form-group">
              <label for="transferName">Transfer Name (Message Type)</label>
              <input type="text" class="form-control" id="transferName" placeholder="Enter transfer name">
            </div>
            <div class="form-group">
              <label>Sources</label>
              <select class="form-control" 
                data-bind="options: editAgentsLeft,
                            optionsCaption: 'Choose...',
                            optionsText: 'name',
                            value: 'name',
                            event: { change: editAddSource }"/>
            </div>
            <div class="form-group">
              <label>Targets</label>
              <select class="form-control">
              <option value=0>Choose target agent</option>
              <!-- ko foreach: state.agents -->
                <option data-bind="attr: {value: id}, text:name+' ('+host+':'+port+')'">X</option>
                <!-- /ko -->
              </select>
            </div>
          </form>
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
          <button type="button" class="btn btn-primary">Save changes</button>
        </div>
      </div><!-- /.modal-content -->
    </div><!-- /.modal-dialog -->
  </div><!-- /.modal -->


  <table class="table">
    <thead>
     <tr>
      <th>Name</th>
      <th>Id</th>
      <th>Version</th>
      <th>Sources</th>
      <th>Targets</th>
    </tr>
  </thead>
  <tbody data-bind="foreach: state.transfers">
    <tr>
      <td data-bind="text: name"></td>
      <td data-bind="text: id"></td>
      <td data-bind="text: version"></td>
      <td data-bind="foreach: sources">
        <!-- ko with: $root.state.getAgent(agentId) -->
        [<span data-bind="text: host"/>] <span data-bind="text: inboundDir"/>/<span data-bind="text: $parents[1].name"/><br/>
        <!-- /ko -->
      </td>
      <td data-bind="foreach: targets">
        <!-- ko with: $root.state.getAgent(agentId) -->
        [<span data-bind="text: host"/>] <span data-bind="text: outboundDir"/>/<span data-bind="text: $parents[1].name"/><br/>
        <!-- /ko -->
      </td>
    </tr>
  </tbody>
</table>

</section>